longhorn:
  persistence:
    # If you have three or more nodes for storage, use 3; otherwise use 2
    defaultClassReplicaCount: 2  # TODO run DR test to see if we actually need 3

  defaultSettings:
    nodeDownPodDeletionPolicy: delete-both-statefulset-and-deployment-pod

  resources:
    limits:
     cpu: 100m
     memory: 128Mi
    requests:
     cpu: 100m
     memory: 128Mi

  ingress:
    enabled: true
    ingressClassName: nginx-internal-internal
    annotations:
      cert-manager.io/cluster-issuer: internal
      hajimari.io/appName: Longhorn
      hajimari.io/icon: chart-bar
    hosts:
      - &host longhorn.k8s.grigri
    paths:
    - /
    tls:
    - secretName: grafana-general-tls
      hosts:
      - *host
