set_heishamon_heatmode_notify:
  alias: Set Heat Mode
  description: "Sets Heishamon HeatMode for scheduler-card with notification"
  icon: mdi:hvac
  mode: single
  sequence:
    - alias: Check is not current state
      condition:
        not:
          - condition: state
            entity_id: input_select.select_option
            state: "{{ heatmode }}"
    - alias: Set heat mode
      service: input_select.select_option
      target:
        entity_id: input_select.heishamon_heatmode
      data:
        option: "{{ heatmode }}"
    - alias: Notify
      service: notify.agil
      data:
        message: |
          Set heat mode to `{{ heatmode }}`.
          Heat mode is `{{ states('input_select.heishamon_heatmode') }}`.
