apiVersion: v1
kind: ConfigMap
metadata:
  name: server-mcp-script
  namespace: mcpservers
data:
  server_script.py: |-
{{ .Files.Get "src/server.py" | indent 4 }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: server-src-deps
  namespace: mcpservers
data:
  {{- range $path, $bytes := .Files.Glob "src/deps/*.py" }}
  {{ base $path }}: |-
{{ $.Files.Get $path | indent 4 }}
  {{- end }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: server-src-tools
  namespace: mcpservers
data:
  {{- range $path, $bytes := .Files.Glob "src/tools/*.py" }}
  {{ base $path }}: |-
{{ $.Files.Get $path | indent 4 }}
  {{- end }}
