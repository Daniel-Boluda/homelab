apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: gcloud-adc
  namespace: mcpservers
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault
  target:
    name: gcloud-adc
    template:
      type: Opaque
      data:
        # La clave del Secret ser√° exactamente el nombre del archivo que queremos montar
        application_default_credentials.json: '{{ .adc_json | toString }}'
  data:
    - secretKey: adc_json
      remoteRef:
        key: mcpservers/gcloud
        property: application_default_credentials_json
