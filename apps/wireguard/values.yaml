wireguard:

  wireguard:
    # -- Address of the VPN server
    serverAddress: 10.34.0.1/24
    # -- Subnet for your VPN, take care not to clash with cluster POD cidr
    serverCidr: 10.34.0.0/24
    # -- A collection of clients that will be added to wg0.conf, accepts objects with keys PublicKey and AllowedIPs (mandatory) and optional FriendlyName or FriendlyJson (https://github.com/MindFlavor/prometheus_wireguard_exporter#friendly-tags) and PersistentKeepalive (https://www.wireguard.com/quickstart/#nat-and-firewall-traversal-persistence), stored in secret
    clients:
       - FriendlyName: username1
         ## FriendlyJson will override FriendlyName
         # FriendlyJson:
         #   username: "username1"
         AllowedIPs: 10.34.0.101/32
         PublicKey: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtn/xhkTMFrsjNzFuMmIIAc6vSRL1hSrjeZw1Vo72D27ViO9KqZDtSaBJPURXuu9BM106fvdzkdFq4m3Kzf/YPcy4iadbikmyO7x2PvgRSQH5cM6M7KseKCah2QpDfCkNwkPJz7eWIxzM2CrgT52OK01bjRDdccxDnc73YqZLx/wIDAQAB
         # Normally PersistentKeepalive is not required
         #PersistentKeepalive: 25
  securityContext:
    runAsUser: 1000

  service:
    # -- Whether the service will be created or not
    enabled: true
    # -- Service type, to keep internal to cluster use ClusterIP or NodePort
    type: LoadBalancer
    # -- Service port, default is 51820 UDP
    port: 51820
    # -- Node port, only valid with service type: NodePort
    nodePort: 31820
    # -- IP to assign to the LoadBalancer service
    #loadBalancerIP: "192.168.1.236"
    # -- Annotations
    annotations: 
      metallb.universe.tf/loadBalancerIPs: "192.168.1.236"
      external-dns.alpha.kubernetes.io/enabled: "true"

  # -- Name of a secret with a wireguard private key on key privatekey, if not provided on first install a hook generates one.
  secretName: ~
  replicaCount: 1
  resources:
    requests:
      memory: 256Mi
      cpu: "100m"
    limits:
      memory: 256Mi
      cpu: "100m"

  disruptionBudget:
    enabled: false
  autoscaling:
    enabled: false
      minReplicas: 1
      maxReplicas: 1

  # -- The property/key on the secret holding the wireguard configuration file
  configSecretProperty: wg0.conf
  
  ## Health sidecar configuration
  healthSideCar:
    
    resources:
      requests:
        memory: 256Mi
        cpu: "100m"
      limits:
        memory: 256Mi
        cpu: "100m"
    
