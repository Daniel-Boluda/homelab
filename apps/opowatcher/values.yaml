app-template:
  controllers:
    opowatcher:
      type: statefulset
      labels:
        backup/retain: quaterly
      annotations: {}
      containers:
        opowatcher:
          image:
            repository: bolferdocker/pythonplaywright
            tag: 1.0.6
          command:
            - python
          args:
            - /app/scripts/opo_watcher_script.py
          envFrom:
            - secretRef:
                name: opowatcher-secrets
          resources:
            requests:
              cpu: 50m
              memory: 400Mi
            limits:
              memory: 1000Mi

  persistence:
    config:
      enabled: true
      existingClaim: config-opowatcher
      globalMounts: []

  additionalVolumes:
    - name: script
      configMap:
        name: python-script

  additionalVolumeMounts:
    - name: script
      mountPath: /app/scripts
      subPath: opo_watcher_script.py
    - name: config-opowatcher
      claimName: config-opowatcher
      mountPath: /app/html
