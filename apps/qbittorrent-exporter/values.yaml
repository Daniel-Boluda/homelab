app-template:
  image:
    repository: ghcr.io/esanchezm/prometheus-qbittorrent-exporter
    tag: latest@sha256:4c019f0c9c8f06a119e2a32b8b338843a782045dce94fa0bef9a94b5f80450f8
  env:
    QBITTORRENT_HOST: qbittorrent.qbittorrent.svc.cluster.local
    QBITTORRENT_PORT: 8080

  podSecurityContext:
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000
    fsGroupChangePolicy: "OnRootMismatch"

  service:
    main:
      ports:
        http:
          port: 8000

  resources:
    requests:
      cpu: 10m
      memory: 100Mi
    limits:
      memory: 500Mi

  serviceMonitor:
    main:
      enabled: true
      endpoints:
        - port: http
          scheme: http
          path: /metrics
          interval: 30s
          scrapeTimeout: 30s

  probes:
    liveness: &probe
      enabled: true
    readiness: *probe
